## HTTP를 이용한 인터랙션 설계

#### 참고 문헌 : REST API 디자인 규칙

### HTTP/1.1

요청 메서드와 응답 상태 코드에 대해 설명한다.  

### 요청 메서드

REST API 리소스 모델에서 HTTP 메서드는 잘 정의된 고유한 의미가 있다.
* GET : 리소스 상태의 표현, 리소스의 상태가 어떤지를 나타내는 값
* HEAD : 리소스 상태에 대한 메타데이터를 얻을때 사용
* PUT : 새로운 리소스를 스토어에 추가하거나 기존 리소스를 갱신할 때 사용
* DELETE : 부모에서 리소스를 제거할 때 사용
* POST : 컬렉션에 새로운 리소스를 만들거나 컨트롤러를 실행할 때 사용

#### 규칙

* GET 메서드나 POST 메서드를 사용하여 다른 요청 메서드를 처래해서는 안된다.
* GET 메서드는 리소스의 상태 표현을 얻는데 사용해야 한다.
* 응답 헤더를 가져올 때는 반드시 HEAD 메서드를 사용해야 한다.
* PUT 메서드는 리소스를 삽입하거나 저장된 리소스를 갱신하는데 사용해야 한다.
* PUT 메서드는 변경 가능한 리소스를 갱신하는데 사용해야 한다.
* POST 메서드는 컬렉션에 새로운 리소스를 만드는데 사용해야 한다.
* DELETE 메서드는 그 부모에서 리소스를 삭제하는데 사용해야 한다.
* OPTIONS 메서드는 리소스의 사용 가능한 인터랙션을 기술한 메타데이터를 가져오는데 사용해야 한다.

### 응답 상태 코드

REST API는 HTTP 응답 메세지의 Status-Line 부분을 사용하여 클라이언트가 요청한 결과를 알려준다.  
HTTP는 40개의 표준 상태 코드를 정의하여 클라이언트가 요청한 결과를 전달하는데 사용한다.  
상태코드표는 다섯가지 범주로 분류한다.

* 1.xx : 정보
* 2.xx : 성공
* 3.xx : 재전송
* 4.xx : 클라이언트 오류
* 5.xx : 서버 오류

#### 규칙
* 200("OK")는 일반적인 요청 성공을 나타내는데 사용해야 한다.
* 200("OK")는 응답 바디에 에러를 전송하는데 사용해서는 안된다.
* 201("Created")는 성공적으로 리소스를 생성했을때 사용해야 한다.
* 202("Accepted")는 비동기 처리가 성공적으로 시작되었음을 알릴때 사용해야 한다.
* 204("No Content")는 응답 바디에 의도적으로 아무것도 포함하지 않을때 사용한다.
* 301("Moved permanently")는 리소스를 이동시켰을때 사용한다.
* 302("Found")는 사용하지 않는다.
* 303("See Other")은 다른 URI를 참조하라고 알려줄때 사용한다.
* 304("Temporary Redirect")는 클라이언트가 다른 URI로 요청을 다시 보내게 할 때 사용해야 한다.
* 400("Bad Request")는 일반적인 요청 실패에 사용해야 한다.
* 401("Unauthorized")는 클라이언트 인증에 문제가 있을때 사용해야 한다.
* 403("Forbidden")은 인증 상태에 상관없이 엑세스를 금지할 때 사용해야 한다.
* 404("Not Found")는 요청 URI에 해당하는 리소스가 없을때 사용해야 한다.
* 405("Method Not Allowed")는 HTTP 메서드가 지원되지 않을때 사용해야 한다.
* 406("Not Acceptable")은 요청된 리소스 미디어 타입을 제공하지 못 할 때 사용해야 한다.
* 409("Conflict")는 리소스 상태에 위반되는 행위를 했을때 사용해야 한다.
* 412("Precondition Failed")는 조건부 연산을 지원할때 사용한다.
* 415("Unsupported Media Type")은 요청의 페이로드에 있는 미디어 타입이 처리되지 못했을때 사용해야 한다.
* 500("Internal Server Error")는 API가 잘못 작동할 때 사용해야 한다.
