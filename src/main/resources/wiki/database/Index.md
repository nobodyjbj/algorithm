## Index
인덱스란 추가적인 쓰기 작업과 저장 공간을 활용하여 데이터베이스 테이블의 검색 속도를 향상시키기 위한 자료구조이다. (찾고자 하는 정보를 빠르게 찾기 위함)
테이블의 모든 데이터를 검색하면 시간이 오래 걸리기 때문에 데이터와 데이터의 위치를 포함한 자료구조를 생성하여 빠르게 조회할 수 있도록 한다.  
인덱스를 활용하면, 데이터를 조회하는 SELECT 외에도 UPDATE나 DELETE의 성능이 함께 향상된다.

### 장점
* 테이블을 조회하는 속도를 향상시킬 수 있다.
* 시스템의 부하를 줄일 수 있다.

### 단점
* 인덱스를 관리하기 위한 저장공간이 필요하다. 
* 인덱스를 관리하기 위한 추가 작업이 필요하다.
* 인덱스를 잘 못 사용할 경우(Create, Update, Delete 등) 오히려 성능 저하의 요인이 된다.

### 적용
* Primary Key
  * Index + Unique 속성 + Not null
* 복합키

### Index를 적용할 때 고려해야 하는 부분
* 대규모 테이블
* 변경(Create, Update, Delete)이 자주 생기지 않는 테이블에 적용하는 것이 좋다.
* Join, Where, Order By에 자주 사용되는 컬럼에 적용하는 것이 좋다.
* 데이터의 중복이 적은 컬럼에 적용하는 것이 좋다.
* 사용하지 않는 인덱스는 그때그때 제거해줘야 한다.
* 하나의 테이블에 너무 많은 Index를 생성하면 Index를 설정한 의미가 없어질 수 있다.

### Index 자료구조

#### B-tree (Balance Tree)

B-트리(B-tree)는 데이터베이스와 파일 시스템에서 널리 사용되는 트리 자료구조의 일종으로, [이진 트리](#)를 확장해 하나의 노드가 가질 수 있는 자식 노드의 최대 숫자가 2보다 큰 트리 구조이다.

* 우선 node 용어 정리  
  * root node: 최상단 노드
  * leaf node: 자식이 없는 최하단의 노드
  * internal node: root와 leaf노드를 제외한 모든 노드

* B-tree 특징
  * 노드의 왼쪽부터 오른쪽으로 작은것부터 큰것으로 정렬되어 있다.
  * 자료는 중복되지 않는다.
  * 모든 leaf node는 같은 레벨에 있다.
  * root node는 자신이 leaf node가 되지 않는 이상 적어도 2개 이상의 자식을 갖는다.
  * root node와 leaf node를 제외한 노드들은 최대 M개부터 최소 ⌈M/2⌉개 까지의 자식을 가질 수 있다. (여기서 M은 차수를 말한다.)
  * 노드의 키는 최대 M-1개부터 최소 ⌈M/2⌉ - 1개의 키가 포함될 수 있습니다.
  * 자식 수의 하한값을 t라고 하면, M = 2t - 1 을 만족한다.

* [B-tree 생성하는 것을 눈으로 볼 수 있는 사이트](https://www.cs.usfca.edu/~galles/visualization/BTree.html)

* 탐색 삽입 삭제에 대한 경우들이 있다.  
  [정리가 잘 되어 있는 사이트](https://velog.io/@chanyoung1998/B%ED%8A%B8%EB%A6%AC)

