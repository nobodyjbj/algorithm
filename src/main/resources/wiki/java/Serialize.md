## Serialize (직렬화)

`repository, vo, dto 사용시에 serializable를 사용한 경험이 있다. 왜 사용하는지 정리해본다.`

### 자바 직렬화가 무엇인가?

* 자바는 메모리 생성된 객체를 파일 또는 네트워크로 출력할 수 있다.
* 객체는 문자가 아니기 때문에 바이트 기반 스트림으로 출력해야 한다.
* 객체의 데이터를 일렬로 늘어선 연속적인 바이트로 변경해야 하는데 이것을 **객체 직렬화** 라고 한다.
* 자바는 Serializable 인터페이스를 구현한 클래스만 직렬화 할 수 있다. 하지만 직렬화 대상이 되지 않는 부분이 있는데 바로 **static**과 **transient** 다.
* serialVersion UID 필드
  - 직렬화할 때와 역직렬화할 때 사용된 클래스의 **serialVersionUID는 같은 클래스임을 알려주는 식별자 역할**을 한다.

자바 시스템 내부에서 사용되는 객체나 데이터를 외부의 자바 시스템에서도 사용할 수 있도록 byte형태를 변환하는 기술  
JVM의 메모리에 힙 또는 스택되어 있는 개체 데이터를 바이트 현태로 변환하는 기술   


### 직렬화를 하용하는 상황?

* JVM의 메모리에서 상주(힙 또는 스택)하는 객체 데이터를 그래도 영속화(Persistence)할 때 사용된다.
  - 시스템이 종료되더라도 사라지지 않으며 영속화된 데이터이기 때문에 네트워크로 전송도 가능하다.
* Servlet Session
  - Servlet 기반의 WAS들은 대부분 세션의 Java 직렬화를 지원한다.
  - 파일로 저장, 세션클러스터링, DB를 저장하는 옵션 등을 선택하면 세션 자체가 질렬화되어 저장 및 전달된다.
* Cache
  - 캐시할 부분을 직렬화된 데이터를 저장해서 사용
* Java RMI(Remote Method Invocation)
  - 원격 시스템의 메서드를 호출할 때 전달하는 메세지(객체)를 직렬화하여 사용
  - 메세지(객체)를 전달받은 원격 시스템에서는 메세지(객체)를 역질렬화하여 사용
* 객체가 세션에서 저장하지 않는 단순한 데이터 집합이고, 컨트롤러에서 생성되어서 뷰에서 소명하는 데이터의 전달체라면 객체 직렬화는 고려하지 않아도 된다.
* 세션 관리를 스토리지나 네트워크 자원을 사용한다면 객체 직렬화를 해야하고, 메모리에서만 관리한다면 객체 직렬화를 할 필요가 없다. 둘다 고려한다면 직렬화가 필요하다.

* 쉽게 말하자면, 서버 사이에 데이터 전송이 가능해지고, 원격 서버에 데이터를 전송하거나, 파일로 객체를 저장할 경우에는 이 인터페이스를 구현해야 한다.

